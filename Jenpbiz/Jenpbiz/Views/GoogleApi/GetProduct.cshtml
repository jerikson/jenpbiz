@using System.Text.RegularExpressions
@model List<Google.Apis.ShoppingContent.v2.Data.Product>
@{
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
</head>
<body>
<div class="container"> 
    <br />
    <div class="text-center">
        <h3>Products: @Model.Count.ToString()</h3>
        <a href="/GoogleApi/InsertProduct"><span class="glyphicon glyphicon-plus glyphicon text-success" data-toggle="modal" data-target="#modalCreateProduct"></span></a>
    </div>
    <br />
    <br />
    <br />
    <table class="table table-hover">
        <thead>
        <tr>
            <th>#</th>
            <th>Title</th>
            <th>Description</th>
            <th>Price</th>
            <th>Currency</th>
            <th>Stock</th>
        </tr>
        </thead>
        <tbody>
        @foreach (var p in Model)
        {
            <tr>
                <!--Remove alphabetic characters from google id-->
                <td>@Regex.Replace(p.Id, "[^0-9.]", "")</td>
                <td>@p.Title</td>
                <td>@p.Description</td>
                <td>@p.Price.Value</td>
                <td><span class="badge">@p.Price.Currency</span></td>
                <td>@p.Availability</td>
                <td><a href="~/Product/GetProduct"><span class="glyphicon glyphicon-eye-open pull-right"></span></a></td>
                <td><a href="~/GoogleApi/DeleteProduct/@Regex.Replace(p.Id, "[@:]", "-")"><span class="glyphicon glyphicon-remove text-danger pull-right deleteClick" @*data-toggle="modal" data-target="#modalDeleteProduct"*@ id="@p.Id"></span></a></td>
            </tr>
        }
        </tbody>
    </table>


        

        

    <!-- Begin Google Insert Product Modal -->
    <div class="modal fade" id="modalCreateProduct" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header"><h4 class="modal-title" id="">Create new product</h4></div>
                <div class="modal-body">

                    <!--Product Category-->
                    <div class="form-group">
                        <select class="form-control formController" id="selectCategory">
                            <option>Apparel</option>
                            <option>Books</option>
                            <option>Electronics</option>
                            <option>Toys</option>
                        </select>
                        <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="Select category for new product"></span>
                    </div>

                    <div class="form-group input-group-sm ">
                        <!--Product Title-->
                        <input type="text" name="" id="inputTitle" class="form-control formController" placeholder="Title"/>
                        <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="Enter title for new product"></span>
                        <br/>
                        <!--Product Description-->
                        <input type="text" name="" id="inputDescription" class="form-control formController" placeholder="Descripion"/>
                        <span class="glyphicon glyphicon-info-sign" data-toggle="tooltip" data-placement="right" title="Enter description for new product"></span>
                    
                    
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-success">Save changes</button>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- End Google Insert Product Modal -->
       

    <!-- Begin Google Delete Product Modal -->
    <div class="modal fade" id="modalDeleteProduct" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header"><h4 class="modal-title" id="">Delete Product</h4></div>
                <div class="modal-body">

                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger">Delete</button>

                </div>
            </div>
        </div>
    </div>
    <!-- End Google Delete Product Modal -->

</div>

    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script>
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            })
    </script>

    <script src="~/Scripts/APIs.js"></script>
</body>
</html>
